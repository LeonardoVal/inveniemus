//! inveniemus 0.1.2

"use strict";!function(a,b){"function"==typeof define&&define.amd?define(["creatartis-base"],b):"object"==typeof module&&module.exports?module.exports=b(require("creatartis-base")):a.inveniemus=b(a.base)}(this,function a(b){var c=b.declare,d=b.initialize,e=b.iterable,f=b.raiseIf,g=b.Events,h=b.Future,i=b.Iterable,j=b.Logger,k=b.Randomness,l=b.Statistics,m={__name__:"inveniemus",__init__:a};a.dependencies={"creatartis-base":b};{var n=m.Element=c({constructor:function(a,b){this.values="undefined"==typeof a?this.randomValues():a.slice(),this.evaluation=+b},length:10,minimumValue:function(){return 0},maximumValue:function(){return 1},random:k.DEFAULT,randomValue:function(a){return this.random.random(this.minimumValue(a),this.maximumValue(a))},randomValues:function(){for(var a=new Array(this.length),b=0;b<this.length;b++)a[b]=this.randomValue(b);return a},clampValue:function(a,b){return Math.min(this.maximumValue(b),Math.max(this.minimumValue(b),a))},evaluate:function(){return this.evaluation=e(this.values).sum()},suffices:function(){return!1},mapping:function(){return this.values},emblem:function(){return JSON.stringify(this.mapping())},resolution:1e-15,hammingDistance:function(a,b){return e(a).zip(b).filter(function(a){return a[0]!=a[1]}).count()},manhattanDistance:function(a,b){return e(a).zip(b).map(function(a){return Math.abs(a[0]-a[1])}).sum()},euclideanDistance:function(a,b){return Math.sqrt(e(a).zip(b).map(function(a){return Math.pow(a[0]-a[1],2)}).sum())},rootMeanSquaredError:function(a,b){var c=0,d=e(b).map(function(b){return c++,Math.pow(b[0]-a.apply(this,b.slice(1)),2)}).sum();return 0==c?0:Math.sqrt(d/c)},successors:function(){return this.neighbourhood()},neighbourhood:function(a){var b,c,d,e,f,g=[],h=this.values;for(b=0;b<h.length;b++)e=this.minimumValue(b),f=this.maximumValue(b),c="number"==typeof a?a:Array.isArray(a)?a[b]:(f-e)/100,d=h[b]+c,f>=d&&g.push(this.modification(b,d)),d=h[b]-c,d>=e&&g.push(this.modification(b,d));return g},modification:function(){var a,b,c=new this.constructor(this.values);for(a=0;a<arguments.length;a+=2)b=+arguments[a+1],f(isNaN(b)||b<this.minimumValue(a)||b>this.maximumValue(a),"Invalid value ",b," for element."),c.values[0|arguments[a]]=+arguments[a+1];return c},clamp:function(a){a||(a=this.values);for(var b=0;b<a.length;++b)a[b]=this.clampValue(a[b],b);return a},arrayMapping:function(){var a=arguments,b=a[a.length-1];return f(a.length<1,"Element.arrayMapping() expects at least one argument."),this.values.map(function(c,d){var e=a.length>d?a[d]:b;return e[c*e.length|0]})},setMapping:function(a){return f(!Array.isArray(a),"Element.setMapping() expects an array argument."),a=a.slice(),this.values.map(function(b){return a.splice(b*a.length|0,1)[0]})},clone:function(){return new this.constructor(this.values,this.evaluation)},equals:function(a){if(this.constructor===a.constructor&&this.values.length===a.values.length){for(var b=0,c=this.values.length;c>b;b++)if(this.values[b]!==a.values[b])return!1;return!0}return!1},toString:function(){return(this.constructor.name||"Element")+"("+JSON.stringify(this.values)+", "+this.evaluation+")"}}),o=m.Problem=c({title:"<no title>",description:"<no description>",random:k.DEFAULT,constructor:function(a){d(this,a).string("title",{coerce:!0,ignore:!0}).string("description",{coerce:!0,ignore:!0}).object("random",{ignore:!0}).func("representation",{ignore:!0}).func("compare",{ignore:!0}).func("suffices",{ignore:!0})},representation:n,compare:function(a,b){return this.minimization(a,b)},suffices:function(a){return a[0].suffices()},maximization:function(a,b){var c=b.evaluation-a.evaluation;return isNaN(c)?-1/0:Math.abs(c)<a.resolution?0:c},minimization:function(a,b){var c=a.evaluation-b.evaluation;return isNaN(c)?1/0:Math.abs(c)<a.resolution?0:c},approximation:function(a,b,c){var d=Math.abs(b.evaluation-a)-Math.abs(c.evaluation-a);return isNaN(d)?1/0:Math.abs(d)<b.resolution?0:d},toString:function(){return(this.constructor.name||"Problem")+"("+JSON.stringify(this)+")"}}),p=m.problems={},q=m.Metaheuristic=c({logger:new j("inveniemus",j.ROOT,"INFO"),constructor:function(a){d(this,a).object("problem",{defaultValue:null}).number("size",{defaultValue:100,coerce:!0}).array("state",{defaultValue:[]}).number("steps",{defaultValue:100,coerce:!0}).integer("step",{defaultValue:-1,coerce:!0}).object("random",{defaultValue:k.DEFAULT}).object("statistics",{defaultValue:new l}).object("logger",{ignore:!0}),this.events=new g({events:["initiated","updated","expanded","evaluated","sieved","advanced","analyzed","finished"]})},initiate:function(a){a=isNaN(a)?this.size:+a>>0,this.state=new Array(a);for(var b=0;a>b;b++)this.state[b]=new this.problem.representation;this.events.emit("initiated",this),this.logger&&this.logger.debug("State has been initiated. Nos coepimus.")},update:function(){var a=this;return this.expand(),this.evaluate().then(function(){return a.sieve(),a.events.emit("updated",this),a})},expand:function(a){if(a=a||this.expansion(),a.length<1)this.logger&&this.logger.warn("Expansion is empty");else{var b=this.state.concat(a),c=b.length;b=b.filter(function(a,d){for(d++;c>d;d++)if(a.equals(b[d]))return!1;return!0}),this.state=b}this.events.emit("expanded",this),this.logger&&this.logger.debug("State has been expanded. Nos exploramus.")},expansion:function(a){var b=isNaN(this.expansionRate)?.5:+this.expansionRate;a=isNaN(a)?Math.floor(b*this.size):+a;var c,d=new Array(a);for(c=0;a>c;c++)d[c]=new this.problem.representation;return d},evaluate:function(a){var b=this,c=this.statistics.stat({key:"evaluation_time"});return c.startTime(),a=a||this.state,h.all(e(a).filter(function(a){return isNaN(a.evaluation)},function(a){return h.when(a.evaluate())})).then(function(d){return a.sort(b.problem.compare.bind(b.problem)),c.addTime(),b.events.emit("evaluated",this),b.logger&&b.logger.debug("Evaluated and sorted ",d.length," elements. Appretiatus sunt."),a})},sieve:function(a){a=isNaN(a)?this.size:0|a,this.state.length>a&&(this.state=this.state.slice(0,this.size)),this.events.emit("sieved",this),this.logger&&this.logger.debug("State has been sieved. Viam selectus est.")},finished:function(){return this.step>=this.steps||this.problem.suffices(this.state)?(this.events.emit("finished",this),!0):!1},analyze:function(){var a=this.statistics.stat({key:"evaluation",step:this.step});return this.state.forEach(function(b){a.add(b.evaluation,b)}),this.events.emit("analyzed",this),a},advance:function(){var a,b=this,c=this.statistics.stat({key:"step_time"});return isNaN(this.step)||+this.step<0?(this.statistics.reset(),c.startTime(),this.initiate(),a=this.evaluate()):(c.startTime(),a=this.update()),a.then(function(){return b.step=isNaN(b.step)||+b.step<0?0:+b.step+1,b.analyze(),c.addTime(),b.events.emit("advanced",this),b.logger&&b.logger.info("Step ",b.step," has been completed. Nos proficimus."),b})},run:function(){function a(){return!b.finished()}var b=this,c=this.advance.bind(this);return h.doWhile(c,a).then(function(){return b.logger&&b.logger.info("Finished. Nos invenerunt!"),b.state[0]})},reset:function(){this.step=-1,this.statistics.reset()},nub:function(a){return a=isNaN(a)?1e-15:+a,this.state=e(this.state).nub(function(b,c){var d=b.values,e=c.values,f=d.length;if(f!==c.values.length)return!1;for(var g=0;f>g;++g)if(Math.abs(d[g]-e[g])>a)return!1;return!0}).toArray(),this.state.length},toString:function(){return(this.constructor.name||"Metaheuristic")+"("+JSON.stringify(this)+")"}}),r=m.metaheuristics={};r.HillClimbing=c(q,{constructor:function(a){q.call(this,a),d(this,a).number("delta",{defaultValue:.01,coerce:!0}).integer("size",{defaultValue:1,coerce:!0})},update:function(){var a=this,b=0;return h.all(this.state.map(function(c){var d=c.neighbourhood(a.delta);return d.push(c),a.evaluate(d).then(function(a){var d=a[0];return c===d&&b++,d})})).then(function(c){a.state=c,a.__localOptima__=b})},atLocalOptima:function(){return this.__localOptima__>=this.state.length},finished:function(){return q.prototype.finished.call(this)||this.atLocalOptima()},toString:function(){return(this.constructor.name||"HillClimbing")+"("+JSON.stringify(this)+")"}}),r.GeneticAlgorithm=c(q,{constructor:function t(a){q.call(this,a),d(this,a).number("expansionRate",{defaultValue:.5,minimum:0,coerce:!0}).number("mutationRate",{defaultValue:.2,minimum:0,maximum:1,coerce:!0}).func("selection",{defaultValue:t.selections.rankSelection}).func("crossover",{defaultValue:t.crossovers.singlepointCrossover}).func("mutation",{defaultValue:t.mutations.singlepointUniformMutation})},expansion:function(){var a,b,c,d=[],e=Math.floor(this.expansionRate*this.size);e+=e%2;for(var f=0;e>f;f+=2){a=this.selection(),b=this.crossover(a);for(var g=0;g<b.length;g++)c=this.random.randomBool(this.mutationRate)?this.mutation(b[g]):b[g],d.push(c)}return d},"static selections":{rankSelection:function(a){a=isNaN(a)?2:+a;var b=this.state.length,c=this.random.randoms(a,0,b*(b+1)/2-1),d=[];return c.sort(function(a,b){return a-b}),this.state.forEach(function(e){for(var f=0;a>f;f++)c[f]+=f-b;c[0]<=0&&(d.push(e),c.shift())}),d.length<a&&(d=d.concat(this.state.slice(0,a-d.length))),d},rouletteSelection:function(a){a=isNaN(a)?2:0|a;var b=this.state.length,c=this.statistics.stat({key:"evaluation",step:this.step}),d=c.minimum(),e=c.sum(),f=this.random.randoms(a,0,e-b*d),g=[];return f.sort(function(a,b){return a-b}),this.state.forEach(function(c){for(var d=0;a>d;d++)f[d]+=d-b;f[0]<=0&&(g.push(c),f.shift())}),g.length<a&&(g=g.concat(this.state.slice(0,a-g.length))),g},stochasticUniversalSamplingSelection:function(a){a=isNaN(a)?2:0|a;var c=this.state,d=e(c).select("evaluation").sum(),f=d/a;return b.Iterable.iterate(function(a){return a+f},this.random.randomInt(f),a).map(function(a){for(var b=0,d=0;d<c.length;++d)if(b+=c[d].evaluation,b>=a)return c[d];return c[c.length-1]}).toArray()}},"static crossovers":{singlepointCrossover:function(a){f(!Array.isArray(a)||a.length<2,"A two parent array is required.");var b=this.random.randomInt(this.length-1)+1,c=a[0].values,d=a[1].values,e=this.problem.representation;return[new e(c.slice(0,b).concat(d.slice(b))),new e(d.slice(0,b).concat(c.slice(b)))]},twopointCrossover:function(a){f(!Array.isArray(a)||a.length<2,"A two parent array is required.");var b=this.random.randomInt(this.length-1)+1,c=this.random.randomInt(this.length-1)+1,d=a[0].values,e=a[1].values,g=this.problem.representation;return[new g(d.slice(0,b).concat(e.slice(b,c)).concat(d.slice(c))),new g(e.slice(0,b).concat(d.slice(b,c)).concat(e.slice(c)))]},uniformCrossover:function(a,b){for(var c,d=[],b=isNaN(b)?a.length:0|b,e=this.problem.representation,f=e.prototype.length,g=this.random,h=0;b>h;++h){c=[];for(var i=0;f>i;++i)c.push(g.choice(a).values[i]);d.push(new e(c))}return d}},"static mutations":{singlepointUniformMutation:function(a){return a.modification(this.random.randomInt(a.length),a.randomValue())},uniformMutation:function(a){return max=isNaN(a)?1/0:+a,function(b){var c=a;b=new b.constructor(b.values);do b.values[this.random.randomInt(b.length)]=b.randomValue();while(this.random.randomBool(this.mutationRate)&&--c>0);return b}},singlepointBiasedMutation:function(a){var b=this.random,c=b.randomInt(a.length);return a.modification(c,a.clampValue(a.values[c]+b.random()-b.random(),c))},recombinationMutation:function(a){var b=a.values.slice(),c=this.random.randomInt(a.length),d=b[c],e=this.random.randomInt(a.length);return c===e&&(e=(e+1)%a.length),b[c]=b[e],b[e]=d,new a.constructor(b)}},toString:function(){return(this.constructor.name||"GeneticAlgorithm")+"("+JSON.stringify(this)+")"}}),r.BeamSearch=c(q,{constructor:function(a){q.call(this,a)},successors:function(a){return a.successors()},expansion:function(){var a=[],b=this.successors.bind(this);return this.state.forEach(function(c){a=a.concat(b(c))}),a},toString:function(){return(this.constructor.name||"BeamSearch")+"("+JSON.stringify(this)+")"}}),r.SimulatedAnnealing=c(q,{constructor:function(a){q.call(this,a),d(this,a).number("maximumTemperature",{defaultValue:1,coerce:!0}).number("minimumTemperature",{defaultValue:0,coerce:!0}).number("delta",{defaultValue:.01,coerce:!0}).integer("size",{defaultValue:1,coerce:!0}).func("temperature",{defaultValue:this.coolingSchedule.linear})},randomNeighbour:function(a,b){b=isNaN(b)?this.delta:+b;var c=this.random.randomInt(a.values.length),d=a.values[c];return d=this.random.randomBool()?Math.min(a.maximumValue(c),d+b):Math.max(a.minimumValue(c),d-b),a.modification(c,d)},acceptance:function(a,b,c){if(c=isNaN(c)?this.temperature():+c,this.problem.compare(a,b)>0)return 1;var d=-Math.abs(b.evaluation-a.evaluation);return Math.max(0,Math.min(1,Math.exp(d/c)))},coolingSchedule:{linear:function(){return(1-Math.max(0,this.step)/this.steps)*(this.maximumTemperature-this.minimumTemperature)+this.minimumTemperature}},update:function(){var a=this,b=this.temperature(),c=this.statistics.stat({key:"acceptance"}),d=this.statistics.stat({key:"temperature"});return d.add(b,this.step),h.all(this.state.map(function(d){var e=a.randomNeighbour(d);return h.when(e.evaluate()).then(function(){var f=a.acceptance(d,e,b);return c.add(f,e),a.random.randomBool(f)?e:d})})).then(function(b){return a.state=b})},toString:function(){return(this.constructor.name||"SimulatedAnnealing")+"("+JSON.stringify(this)+")"}}),r.ParticleSwarm=c(q,{constructor:function(a){q.call(this,a),d(this,a).number("inertia",{defaultValue:1,coerce:!0}).number("localAcceleration",{defaultValue:.5,coerce:!0}).number("globalAcceleration",{defaultValue:.3,coerce:!0})},initiate:function(a){q.prototype.initiate.call(this,a);var b=this;this.state.forEach(function(a){var c;a.__velocity__=new Array(a.length);for(var d=0;d<a.length;++d)c=a.maximumValue(d)-a.minimumValue(d),a.__velocity__[d]=b.random.random(-c,c);a.__localBest__=a})},nextVelocity:function(a,b){var c=this,d=a.__velocity__,e=a.__localBest__,f=this.random.random()*this.localAcceleration,g=this.random.random()*this.globalAcceleration;return a.values.map(function(a,h){return d[h]*c.inertia+f*(e.values[h]-a)+g*(b.values[h]-a)})},nextElement:function(a,b){var c=this,d=this.nextVelocity(a,b),e=a.values.map(function(b,c){return a.clampValue(b+d[c],c)}),f=new a.constructor(e);return h.when(f.evaluate()).then(function(){return f.__velocity__=d,f.__localBest__=c.problem.compare(a.__localBest__,f)>0?f:a.__localBest__,f})},update:function(){var a=this,b=this.__globalBest__;return b||(b=this.__globalBest__=this.state[0]),h.all(this.state.map(function(c){return a.nextElement(c,b)})).then(function(b){return a.state=b,b.sort(a.problem.compare.bind(a.problem)),a.problem.compare(a.__globalBest__,b[0])>0&&(a.__globalBest__=b[0]),a})},toString:function(){return(this.constructor.name||"ParticleSwarm")+"("+JSON.stringify(this)+")"}}),r.DifferentialEvolution=c(q,{constructor:function(a){q.call(this,a),d(this,a).number("differentialWeight",{coerce:!0,defaultValue:1,minimum:0,maximum:2}).number("crossoverProbability",{coerce:!0,defaultValue:.3,minimum:0,maximum:1}).integer("size",{coerce:!0,defaultValue:100,minimum:4})},expansion:function(){var a=this;return this.state.map(function(b,c){for(var d=a.random.choices(3,e(a.state).filter(function(a,b){return b!==c})),f=d[0].values,g=d[1].values,h=d[2].values,i=a.random.randomInt(b.length),j=[],k=0;k<b.length;++k)j.push(b.clampValue(k===i||a.random.randomBool(a.crossoverProbability)?f[k]+a.differentialWeight*(g[k]-h[k]):b.values[k],k));return new b.constructor(j)})},toString:function(){return(this.constructor.name||"DifferentialEvolution")+"("+JSON.stringify(this)+")"}}),r.EvolutionStrategy=c(q,{constructor:function(a){q.call(this,a),d(this,a).number("mutantCount",{coerce:!0,defaultValue:1,minimum:1}).integer("size",{coerce:!0,defaultValue:1,minimum:1})},mutant:function(a){var b=this.random,c=a.values.map(function(c,d){return c+=b.random()-b.random(),a.clampValue(c,d)});return new a.constructor(c)},mutants:function(a,b){b=isNaN(b)?this.mutantCount:+b;for(var c=[],d=0;b>d;++d)c.push(this.mutant(a));return c},expansion:function(){var a=this,b=[];return this.state.forEach(function(c){b=b.concat(a.mutants(c))}),b},toString:function(){return(this.constructor.name||"EvolutionStrategy")+"("+JSON.stringify(this)+")"}}),r.HarmonySearch=c(q,{constructor:function(a){q.call(this,a),d(this,a).number("harmonyProbability",{coerce:!0,defaultValue:.9,minimum:0,maximum:1}).number("adjustProbability",{coerce:!0,defaultValue:.5,minimum:0,maximum:1}).number("delta",{coerce:!0,defaultValue:.1})},expansion:function(){for(var a=this.state[0],b=new Array(length),c=0;c<a.length;++c)this.random.randomBool(this.harmonyProbability)?(b[c]=this.random.choice(this.state).values[c],this.random.randomBool(this.adjustProbability)&&(b[c]=a.clampValue(b[c]+this.random.choice([-1,1])*this.delta,c))):b[c]=a.randomValue(c);return[new a.constructor(b)]},toString:function(){return(this.constructor.name||"HarmonySearch")+"("+JSON.stringify(this)+")"}})}p.HelloWorld=c(o,{title:"Hello world",description:"Simple problem where each element is a string, and the optimization goes towards the target string.",constructor:function(a){o.call(this,a),d(this,a).string("target",{coerce:!0,defaultValue:"Hello world!"});var b=this.target,f=e(b).map(function(a){return a.charCodeAt(0)}).toArray();this.representation=c(n,{length:b.length,minimumValue:function(){return 32},maximumValue:function(){return 254},suffices:function(){return this.mapping()===b},evaluate:function(){return this.evaluation=this.manhattanDistance(f,this.values)},mapping:function(){return e(this.values).map(function(a){return String.fromCharCode(0|a)}).join("")}})},compare:o.prototype.minimization}),p.NQueensPuzzle=c(o,{title:"N-queens puzzle",description:"Generalized version of the classic problem of placing 8 chess queens on an 8x8 chessboard so that no two queens attack each other.",constructor:function(a){o.call(this,a),d(this,a).integer("N",{coerce:!0,defaultValue:8});var b=i.range(this.N).toArray();this.representation=c(n,{length:this.N,evaluate:function(){var a=this.mapping(),b=0;return a.forEach(function(c,d){for(var e=1;d+e<a.length;e++)(a[e]==c+e||a[e]==c-e)&&b++}),this.evaluation=b},suffices:function(){return 0===this.evaluation},mapping:function(){return this.setMapping(b)}})},compare:o.prototype.minimization}),p.KnapsackProblem=c(o,{title:"Knapsack problem",description:"Given a set of items with a cost and a worth, select a subset  maximizing the worth sum but not exceeding a cost limit.",items:{itemA:{cost:12,worth:4},itemB:{cost:2,worth:2},itemC:{cost:1,worth:2},itemD:{cost:1,worth:1},itemE:{cost:4,worth:10}},constructor:function(a){o.call(this,a),d(this,a).number("limit",{coerce:!0,defaultValue:15}).integer("amount",{coerce:!0,defaultValue:1,minimum:1}).object("items",{ignore:!0});var b=this;this.representation=c(n,{length:Object.keys(this.items).length,evaluate:function(){var a=this.mapping(),c=0,d=0;return Object.keys(a).forEach(function(e){var f=b.items[e],g=a[e];c+=f.worth*g,d+=f.cost*g}),this.evaluation=d>b.limit?-c:c},mapping:function(){var a={},c=Object.keys(b.items);return c.sort(),e(this.values).zip(c).forEach(function(c){var d=b.items[c[1]],e=c[0]*(1+(+d.amount||1))|0;a[c[1]]=e}),a}})},compare:o.prototype.maximization});var s=p.testbed=function(a){return c(o,{title:"",description:"",constructor:function(b){o.call(this,b);this.representation=c(n,{length:isNaN(a.length)?2:+a.length,minimumValue:isNaN(a.minimumValue)?function(){return-1e6}:function(){return+a.minimumValue},maximumValue:isNaN(a.maximumValue)?function(){return 1e6}:function(){return+a.maximumValue},evaluate:function(){return this.evaluation=a.evaluation(this.values)}})},compare:a.hasOwnProperty("target")&&a.target!==-1/0?1/0===a.target?o.prototype.maximization:function(b,c){return this.approximation(a.target,b,c)}:o.prototype.minimization,suffices:a.hasOwnProperty("optimumValue")?function(b){var c=b[0];return Math.abs(c.evaluation-a.optimumValue)<c.resolution}:o.prototype.suffices})};return p.testbeds={Ackley:function(a,b,c,d){return b=isNaN(b)?20:+b,c=isNaN(c)?.2:+c,d=isNaN(d)?2*Math.PI:+d,s({length:a,target:-1/0,minimumValue:-32.768,maximumValue:32.768,optimumValue:0,evaluation:function(a){for(var e,f=0,g=0,h=a.length,i=0;h>i;++i)e=a[i],f+=e*e,g+=Math.cos(d*e);return-b*Math.exp(-c*Math.sqrt(f/h))-Math.exp(g/h)+b+Math.exp(1)}})},crossInTray:function(a){return a=isNaN(a)?-1/0:+a,s({length:2,target:a,minimumValue:-10,maximumValue:10,evaluation:function(a){var b=a[0],c=a[1];return-1e-4*Math.pow(Math.abs(Math.sin(b)*Math.sin(c)*Math.exp(Math.abs(100-Math.sqrt(b*b+c*c)/Math.PI)))+1,.1)}})},Griewank:function(a){return s({length:a,minimumValue:-600,maximumValue:600,optimumValue:0,evaluation:function(a){for(var b,c=0,d=1,e=a.length,f=0;e>f;++f)b=a[f],c+=b*b/4e3,d*=Math.cos(b/Math.sqrt(f+1));return c-d+1}})},Levy:function(a){return s({length:a,target:-1/0,minimumValue:-10,maximumValue:10,optimumValue:0,evaluation:function(a){for(var b,c=0,d=a.length,e=1+(a[0]-1)/4,f=1+(a[d-1]-1)/4,g=1;d-1>g;++g)b=1+(a[g]-1)/4,c+=Math.pow(b-1,2)*(1+10*Math.pow(Math.sin(Math.PI*b+1),2));return Math.pow(Math.sin(Math.PI*e),2)+c+Math.pow(f-1,2)*(1+Math.pow(Math.sin(2*Math.PI*f),2))}})},Michalewicz:function(a,b){return b=isNaN(b)?10:+b,s({length:a,target:-1/0,minimumValue:0,maximumValue:Math.PI,evaluation:function(a){for(var c,d=0,e=a.length,f=0;e>f;++f)c=a[f],d+=Math.sin(c)*Math.pow(Math.sin((f+1)*c*c/Math.PI),2*b);return-d}})},perm0:function(a,b){return a=isNaN(a)?2:Math.min(1,0|a),b=isNaN(b)?0:+b,s({length:a,target:-1/0,minimumValue:-a,maximumValue:+a,optimumValue:0,evaluation:function(c){for(var d,e=0,f=0;a>f;++f){d=0;for(var g=0;a>g;++g)d+=(g+1+b)*(Math.pow(c[g],f+1)-Math.pow(1/(g+1),f+1));e+=d*d}return e}})},Rastrigin:function(a){return s({length:a,target:-1/0,minimumValue:-5.12,maximumValue:5.12,optimumValue:0,evaluation:function(a){for(var b,c=0,d=a.length,e=0;d>e;++e)b=a[e],c+=b*b-10*Math.cos(2*Math.PI*b);return 10*d+c}})},Rosenbrock:function(a,b,c){return b=isNaN(b)?1:+b,c=isNaN(c)?100:+c,s({length:a,target:-1/0,optimumValue:0,evaluation:function(a){for(var d=0,e=1;e<a.length;++e)d+=c*Math.pow(a[e-1]*a[e-1]-a[e],2)+Math.pow(a[e-1]-b,2);return d}})},Schwefel:function(a){return s({length:a,target:-1/0,minimumValue:-500,maximumValue:500,optimumValue:0,evaluation:function(a){for(var b,c=0,d=a.length,e=0;d>e;++e)b=a[e],c+=b*Math.sin(Math.sqrt(Math.abs(b)));return 418.9829*d-c}})},sphere:function(a){return s({length:a,target:-1/0,optimumValue:0,evaluation:function(a){for(var b=0,c=0;c<a.length;++c)b+=a[c]*a[c];return b}})},sumOptimization:function(a,b){return a=isNaN(a)?2:Math.max(1,0|a),b=isNaN(b)?-1/0:+b,s({length:a,target:b,minimumValue:0,maximumValue:1,optimumValue:b===-1/0?0:b===+1/0?a:b,evaluation:function(a){for(var b=0,c=a.length,d=0;c>d;++d)b+=a[d];return b}})}},m});
//# sourceMappingURL=inveniemus.min.js.map